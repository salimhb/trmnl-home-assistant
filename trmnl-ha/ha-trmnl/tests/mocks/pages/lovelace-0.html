<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard 0 - Mock HA</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Roboto, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #f1f1f1;
      color: #212121;
    }

    body.dark-mode {
      background: #111111;
      color: #e1e1e1;
    }

    hui-card {
      display: block;
      margin: 16px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    body.dark-mode hui-card {
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    .gradient-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 32px;
      color: white;
    }

    .status-card {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      padding: 24px;
      color: white;
    }

    .info-card {
      background: white;
      padding: 24px;
    }

    body.dark-mode .info-card {
      background: #1c1c1c;
    }

    h1, h2, h3 {
      font-weight: 400;
      margin-bottom: 8px;
    }

    p {
      line-height: 1.6;
      opacity: 0.9;
    }

    .stats {
      display: flex;
      gap: 16px;
      margin-top: 16px;
    }

    .stat {
      flex: 1;
      padding: 12px;
      background: rgba(255,255,255,0.1);
      border-radius: 4px;
      text-align: center;
    }

    .info-card .stat {
      background: #f5f5f5;
    }

    body.dark-mode .info-card .stat {
      background: #2c2c2c;
    }
  </style>
</head>
<body>
  <!-- Mock Dashboard 0 - Test content for screenshot validation -->
  <home-assistant>
    <template shadowrootmode="open">
      <home-assistant-main>
        <template shadowrootmode="open">
          <partial-panel-resolver>
            <hui-root>
              <template shadowrootmode="open">
                <hui-view>
                  <template shadowrootmode="open">
                    <!-- Card 1: Gradient header -->
                    <hui-card class="gradient-card">
                      <h1>Dashboard 0</h1>
                      <p>Mock dashboard for testing screenshot capture and zoom calculations</p>
                      <div class="stats">
                        <div class="stat">
                          <div style="font-size: 24px; font-weight: 500;">72°F</div>
                          <div style="font-size: 12px; opacity: 0.7;">Temperature</div>
                        </div>
                        <div class="stat">
                          <div style="font-size: 24px; font-weight: 500;">45%</div>
                          <div style="font-size: 12px; opacity: 0.7;">Humidity</div>
                        </div>
                      </div>
                    </hui-card>

                    <!-- Card 2: Status card -->
                    <hui-card class="status-card">
                      <h2>System Status</h2>
                      <p>All systems operational</p>
                      <div class="stats">
                        <div class="stat">
                          <div style="font-size: 18px;">✓</div>
                          <div style="font-size: 11px;">Lights</div>
                        </div>
                        <div class="stat">
                          <div style="font-size: 18px;">✓</div>
                          <div style="font-size: 11px;">Climate</div>
                        </div>
                        <div class="stat">
                          <div style="font-size: 18px;">✓</div>
                          <div style="font-size: 11px;">Security</div>
                        </div>
                      </div>
                    </hui-card>

                    <!-- Card 3: Info card -->
                    <hui-card class="info-card">
                      <h3 style="color: #03a9f4;">Quick Actions</h3>
                      <p style="margin-top: 8px; color: #727272;">This card provides test content for dithering and image processing validation</p>
                      <div class="stats">
                        <div class="stat">
                          <div style="font-size: 14px; color: #ff9800;">▶</div>
                          <div style="font-size: 10px;">Action 1</div>
                        </div>
                        <div class="stat">
                          <div style="font-size: 14px; color: #4caf50;">■</div>
                          <div style="font-size: 10px;">Action 2</div>
                        </div>
                        <div class="stat">
                          <div style="font-size: 14px; color: #f44336;">●</div>
                          <div style="font-size: 10px;">Action 3</div>
                        </div>
                      </div>
                    </hui-card>
                  </template>
                </hui-view>
              </template>
            </hui-root>
          </partial-panel-resolver>
        </template>
      </home-assistant-main>
    </template>
  </home-assistant>

  <script>
    (function() {
      const haEl = document.querySelector('home-assistant');

      if (!haEl) {
        console.error('[Mock] home-assistant element not found');
        return;
      }

      // Mock hass.connection for theme persistence interception (HA 2026.2+)
      haEl.hass = {
        connection: {
          sendMessage: function(msg) {
            console.log(`[Mock] WS sendMessage: ${JSON.stringify(msg)}`);
          },
          sendMessagePromise: function(msg) {
            console.log(`[Mock] WS sendMessagePromise: ${JSON.stringify(msg)}`);
            return Promise.resolve(null);
          }
        }
      };

      haEl._selectLanguage = function(lang, saveToStorage = true) {
        const language = lang || 'en';
        document.documentElement.lang = language;
        console.log(`[Mock] Language set to: ${language}`);
      };

      haEl.addEventListener('settheme', function(e) {
        const { theme, dark } = e.detail || {};
        document.body.classList.toggle('dark-mode', dark === true);
        if (theme) {
          document.body.setAttribute('data-theme', theme);
        }
        console.log(`[Mock] Theme set: ${theme || 'default'}, dark mode: ${dark ? 'on' : 'off'}`);
      });

      const panelResolver = haEl.shadowRoot
        ?.querySelector('home-assistant-main')
        ?.shadowRoot
        ?.querySelector('partial-panel-resolver');

      if (panelResolver) {
        panelResolver._loading = false;
        console.log('[Mock] Panel resolver marked as loaded');
      }

      console.log('[Mock] Dashboard 0 initialized');
    })();
  </script>
</body>
</html>
